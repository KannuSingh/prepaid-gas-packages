# Installation

Install the Prepaid Gas SDK packages to start integrating privacy-preserving gas payments into your application.

## Package Overview

The SDK is split into focused packages for optimal bundle size and clear separation of concerns:

- **[@prepaid-gas/core](https://www.npmjs.com/package/@prepaid-gas/core)** - Main SDK with paymaster client
- **[@prepaid-gas/data](https://www.npmjs.com/package/@prepaid-gas/data)** - Data layer with subgraph client  
- **[@prepaid-gas/constants](https://www.npmjs.com/package/@prepaid-gas/constants)** - Shared constants and ABIs

## Quick Install

For most applications, you'll need the core and data packages:

```bash
npm install @prepaid-gas/core @prepaid-gas/data
```

```bash
yarn add @prepaid-gas/core @prepaid-gas/data
```

```bash
pnpm add @prepaid-gas/core @prepaid-gas/data
```

## Individual Packages

Install only what you need:

### Core Package
The main SDK for paymaster integration:

```bash
npm install @prepaid-gas/core
```

**Use when**: You need to generate ZK proofs and interact with paymasters.

### Data Package  
Subgraph client with fluent query builders:

```bash
npm install @prepaid-gas/data
```

**Use when**: You need to query pool data, transactions, or paymaster information.

### Constants Package
Shared constants, ABIs, and network configurations:

```bash
npm install @prepaid-gas/constants
```

**Use when**: You need direct access to contract ABIs or network configurations.

## Peer Dependencies

The SDK requires these peer dependencies for Ethereum interaction:

```bash
npm install viem@^2.0.0 permissionless@^0.2.0
```

These are likely already in your project if you're building on Ethereum.

## TypeScript Support

All packages include comprehensive TypeScript declarations. No additional `@types` packages needed.

```typescript
import { PrepaidGasPaymaster, type PaymasterOptions } from '@prepaid-gas/core'
import { SubgraphClient, type Pool } from '@prepaid-gas/data'
```

## Framework Integration

### Next.js

```typescript
// app/lib/paymaster.ts
import { PrepaidGasPaymaster } from '@prepaid-gas/core'

export const paymaster = PrepaidGasPaymaster.createForNetwork(
  parseInt(process.env.NEXT_PUBLIC_CHAIN_ID!)
)
```

### React

```typescript  
// hooks/usePaymaster.ts
import { useMemo } from 'react'
import { PrepaidGasPaymaster } from '@prepaid-gas/core'
import { useChainId } from 'wagmi'

export function usePaymaster() {
  const chainId = useChainId()
  
  return useMemo(
    () => PrepaidGasPaymaster.createForNetwork(chainId),
    [chainId]
  )
}
```

### Node.js

```typescript
// server/paymaster.ts  
import { PrepaidGasPaymaster } from '@prepaid-gas/core'

const paymaster = PrepaidGasPaymaster.createForNetwork(84532) // Base Sepolia
```

## Verification

Verify your installation by checking package versions:

```typescript
import { version } from '@prepaid-gas/core/package.json'
console.log('Prepaid Gas Core version:', version)
```

## Next Steps

- [Quick Start Guide](/quick-start) - Get up and running in 5 minutes
- [Core Package Overview](/core/) - Learn about the main SDK
- [Data Package Overview](/data/) - Understand the query system

## Troubleshooting

### Module Resolution Issues

If you encounter import issues, ensure your bundler supports the `exports` field in package.json:

```json
{
  "exports": {
    ".": {
      "types": "./dist/index.d.ts",
      "import": "./dist/index.mjs", 
      "require": "./dist/index.js"
    }
  }
}
```

### Version Compatibility

The SDK requires:
- **Node.js 18+** for development
- **TypeScript 5.0+** for type checking
- **Modern bundlers** (Vite, Webpack 5+, Turbopack)

Need help? [Check our troubleshooting guide](/guides/troubleshooting) or [open an issue](https://github.com/your-org/prepaid-gas-packages/issues).